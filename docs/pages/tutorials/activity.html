<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>ardUI Documentation</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" href="/img/ardUI_logo.svg"><link rel="stylesheet" href="/style/stylify.css"><link rel="stylesheet" href="/style/style.css"></head><body><header><a class="mr-3" href="/pages"><img id="logo" src="/img/ardUI_text.svg" alt="ardUI logo"></a></header><main><div id="tab-layout"><div class="tab" id="nav-tab"><h3 class="tab-title">Navigation</h3><div id="nav-container"><h5>Installation</h5><a href="/pages/tutorials/installation">Installation</a><a href="/pages/tutorials/display_interface">Display interface</a><h5>Basic information</h5><a href="/pages/tutorials/quickstart">Getting started</a><a href="/pages/tutorials/view_tree">View tree</a><a href="/pages/tutorials/activity">Activity basics</a><a href="/pages/tutorials/view">View basics</a><h5>Extending ardUI</h5><a href="/pages/tutorials/custom_views">Custom views</a><p class="text-secondary">More tutorials coming soon!</p></div></div><article id="content-tab"><div class="anchor" id="Activity_basics"></div><h1>Activity basics</h1><p> An Activity in ardUI is a single screen you can place widgets on. To create your own Activity, create a new
 Activity class as follows: <code>class MyActivity: public Activity {...};</code>. Let's look at this declaration
 more closely. A colon in this declaration means that your custom Activity extends a base Activity class.
 In other words, it will have all the same fields and methods as any other Activity, while allowing
 you to add your own ones. Let's take a look at some of the things an Activity can do for you.</p><p> The most important Activity methods are the Lifecycle methods. ardUI will call these
 functions at appropriate times for you so that you can do certain things in your application. The only
 required method in an Activity is <code>onCreate()</code>. This is the first function called before your
 Activity becomes visible. This is also a good place to create and place all widgets your Activity will need.
 Here is the chart of the entire Activity lifecycle:</p><div class="anchor" id="Lifecycle_diagram"></div><img src="/img/activity_lifecycle.png" alt="Activity lifecycle diagram"><p> This diagram may look quite complicated at first but you don't have to implement any functions other than
 <code>onCreate()</code>. However, you might also want to take a look at the <code>onDestroy()</code> among others.
 This is the function ardUI will call before deleting your Activity. This is the last chance for you to release
 any resources you are using in your Activity and free all memory you have allocated for it. Otherwise, it might
 result in a memory leak. Read more about memory management in ardUI
 <a href="/pages/tutorials/view#Pointers_and_memory">here</a>.</p><div class="anchor" id="Switching_Activities"></div><h1>Switching between Activities</h1><p> You can open an Activity by calling <code>startActivity()</code> or <code>startActivityForResult()</code>. In both cases,
 you may also pass an optional Bundle containing some data you'd like to pass to your new Activity. If you want to
 get some data back from it (i.e. input a PIN code on another screen), you should also define a
 callback, or a function that will be called once your started Activity finishes. To return a result,
 make a call to <code>setResult()</code> from that Activity and, optionally, <code>finish()</code> if you want
 that Activity to exit immediately.</p><img src="/img/activity_result.png" alt="Activity result diagram"><p> In this example different Activities are starting PinActivity to get a PIN code from the user which is then
 returned to a result callback. Here is a code example with one main Activity:</p><pre><div class="code-line"><span class="highlight macro">#include</span> <span class="highlight string">&lt;Arduino.h&gt;</span></div><div class="code-line"><span class="highlight macro">#include</span> <span class="highlight string">"ardUI.h"</span></div><div class="code-line"><span class="highlight macro">#include</span> <span class="highlight string">"Activity.h"</span></div><div class="code-line"></div><div class="code-line"><span class="highlight keyword">class</span> PinActivity: <span class="highlight modifier">public</span> Activity {</div><div class="code-line">  <span class="highlight keyword">using</span> <span class="highlight scope">Activity::</span>Activity;</div><div class="code-line"></div><div class="code-line">  <span class="highlight typename">void</span> <span class="highlight function">onCreate</span>() <span class="highlight keyword">override</span> {</div><div class="code-line">    <span class="highlight comment">// Obtaining a PIN from the user</span></div><div class="code-line">    <span class="highlight typename">auto</span> b = Bundle {};  <span class="highlight comment">// Creating a <span class="highlight keyword">new</span> Bundle to <span class="highlight keyword">return</span> result in</span></div><div class="code-line">    b.<span class="highlight function">putInt</span>(<span class="highlight string">"pin"</span>, <span class="highlight comment">/*pin*/</span>);  <span class="highlight comment">// Adding a pin to a Bundle</span></div><div class="code-line">    <span class="highlight function">setResult</span>(<span class="highlight number">0</span>, b);  <span class="highlight comment">// Setting the Bundle to be a result</span></div><div class="code-line">    <span class="highlight function">finish</span>();  <span class="highlight comment">// Exiting an Activity</span></div><div class="code-line">  }</div><div class="code-line">}</div><div class="code-line"></div><div class="code-line"><span class="highlight keyword">class</span> MainActivity: <span class="highlight modifier">public</span> Activity {</div><div class="code-line">  <span class="highlight keyword">using</span> <span class="highlight scope">Activity::</span>Activity;</div><div class="code-line"></div><div class="code-line">  <span class="highlight typename">void</span> <span class="highlight function">onCreate</span>() <span class="highlight keyword">override</span> {</div><div class="code-line">    <span class="highlight comment">// Adding widgets, performing setup, etc.</span></div><div class="code-line">    <span class="highlight function">startActivityForResult<span class="highlight template">&lt;ResultActivity&gt;</span></span>([](<span class="highlight typename">int</span> code, Bundle results) -&gt; <span class="highlight typename">void</span> {</div><div class="code-line">      <span class="highlight comment">// Bundle <span class="highlight string">"results"</span> now contains our PIN</span></div><div class="code-line">      Serial.<span class="highlight function">println</span>(results.<span class="highlight function">getInt</span>(<span class="highlight string">"pin"</span>));</div><div class="code-line">    });</div><div class="code-line">  }</div><div class="code-line">}</div></pre><p> If you want to stop all Activities immediately and return ardUI to its initial state, just make a call
 to the <code>ardUI::reset()</code>. This will stop all Activities currently open and waiting to be reopened and
 free all memory taken up by them. You can continue to use ardUI as usual afterwards.</p><script async src="/js/referencer.js"></script></article><div class="tab" id="toc-tab"><h3 class="tab-title">On this page</h3><div id="toc-container"></div><script async src="/js/toc.js"></script></div></div><div id="content"></div></main><footer><span>Developed by <a href="https://github.com/MStefan99/ardUI/graphs/contributors">ardUI contributors</a></span><span>Idea by <a href="https://mstefan99.com/">Mikhail Stefantsev</a></span><span>Contribute to ardUI on <a href="https://github.com/MStefan99/ardUI">GitHub</a>!</span></footer></body></html>